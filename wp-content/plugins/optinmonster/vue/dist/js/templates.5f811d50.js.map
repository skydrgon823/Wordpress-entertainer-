{"version":3,"sources":["webpack:///./node_modules/lodash/_compareMultiple.js","webpack:///./node_modules/lodash/_baseOrderBy.js","webpack:///./node_modules/lodash/orderBy.js","webpack:///./src/pages/Templates.vue?a105","webpack:///./src/pages/Templates.vue?cf98","webpack:///src/pages/Templates.vue","webpack:///./src/pages/Templates.vue?2f6c","webpack:///./src/pages/Templates.vue?439c","webpack:///./node_modules/lodash/_compareAscending.js","webpack:///./node_modules/lodash/_baseSortBy.js"],"names":["compareAscending","__webpack_require__","compareMultiple","object","other","orders","index","objCriteria","criteria","othCriteria","length","ordersLength","result","order","module","exports","arrayMap","baseIteratee","baseMap","baseSortBy","baseUnary","identity","baseOrderBy","collection","iteratees","value","key","iteratee","isArray","orderBy","guard","undefined","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Templates_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Templates_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","attrs","title","classes","alerts","staticClass","templates","selectedTemplates","style","margin","_e","type","validType","_v","_s","noTemplatesMessage","staticRenderFns","Object","vuex_esm","mapState","mapActions","mapGetters","Templatesvue_type_script_lang_js_","created","_this","listenApiLoaded","document","addEventListener","om_api","$store","subscribe","mutation","state","ignore","indexOf","commit","dispatch","catch","loadApi","beforeDestroy","removeEventListener","computed","_objectSpread","$get","isLoading","getters","popularTemplates","popular","activeType","featuredTemplates","featured","showableTemplates","_this2","filterPasses","filters","find","f","includes","prop","sort","concat","filter","template","search","name","toLowerCase","device","mobile","taxonomies","t","map","term","id","_this3","filterGamified","tags","tag","hasTemplates","shouldShowUpsells","connected","typePermitted","upperFirst_default","reachedCampaignLimit","total","limit","get_default","userAttribute","mounted","fetchTemplateData","$bus","$emit","methods","_this4","cb","arguments","forEach","evt","setApiLoaded","script","getElementById","head","getElementsByTagName","documentElement","createElement","src","$urls","apiJs","async","dataset","account","user","$env","isEnv","env","currentEnv","appendChild","e","applyFilters","_this5","orderBy_default","$moment","created_at","valueOf","pages_Templatesvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","isSymbol","valIsDefined","valIsNull","valIsReflexive","valIsSymbol","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","array","comparer"],"mappings":"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","file":"js/templates.5f811d50.js","sourcesContent":["var compareAscending = require('./_compareAscending');\n\n/**\n * Used by `_.orderBy` to compare multiple properties of a value to another\n * and stable sort them.\n *\n * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n * of corresponding values.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {boolean[]|string[]} orders The order to sort by for each property.\n * @returns {number} Returns the sort order indicator for `object`.\n */\nfunction compareMultiple(object, other, orders) {\n  var index = -1,\n      objCriteria = object.criteria,\n      othCriteria = other.criteria,\n      length = objCriteria.length,\n      ordersLength = orders.length;\n\n  while (++index < length) {\n    var result = compareAscending(objCriteria[index], othCriteria[index]);\n    if (result) {\n      if (index >= ordersLength) {\n        return result;\n      }\n      var order = orders[index];\n      return result * (order == 'desc' ? -1 : 1);\n    }\n  }\n  // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n  // that causes it, under certain circumstances, to provide the same value for\n  // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n  // for more details.\n  //\n  // This also ensures a stable sort in V8 and other engines.\n  // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n  return object.index - other.index;\n}\n\nmodule.exports = compareMultiple;\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    baseSortBy = require('./_baseSortBy'),\n    baseUnary = require('./_baseUnary'),\n    compareMultiple = require('./_compareMultiple'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `_.orderBy` without param guards.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n * @param {string[]} orders The sort orders of `iteratees`.\n * @returns {Array} Returns the new sorted array.\n */\nfunction baseOrderBy(collection, iteratees, orders) {\n  var index = -1;\n  iteratees = arrayMap(iteratees.length ? iteratees : [identity], baseUnary(baseIteratee));\n\n  var result = baseMap(collection, function(value, key, collection) {\n    var criteria = arrayMap(iteratees, function(iteratee) {\n      return iteratee(value);\n    });\n    return { 'criteria': criteria, 'index': ++index, 'value': value };\n  });\n\n  return baseSortBy(result, function(object, other) {\n    return compareMultiple(object, other, orders);\n  });\n}\n\nmodule.exports = baseOrderBy;\n","var baseOrderBy = require('./_baseOrderBy'),\n    isArray = require('./isArray');\n\n/**\n * This method is like `_.sortBy` except that it allows specifying the sort\n * orders of the iteratees to sort by. If `orders` is unspecified, all values\n * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n * descending or \"asc\" for ascending sort order of corresponding values.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @param {string[]} [orders] The sort orders of `iteratees`.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 34 },\n *   { 'user': 'fred',   'age': 40 },\n *   { 'user': 'barney', 'age': 36 }\n * ];\n *\n * // Sort by `user` in ascending order and by `age` in descending order.\n * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n */\nfunction orderBy(collection, iteratees, orders, guard) {\n  if (collection == null) {\n    return [];\n  }\n  if (!isArray(iteratees)) {\n    iteratees = iteratees == null ? [] : [iteratees];\n  }\n  orders = guard ? undefined : orders;\n  if (!isArray(orders)) {\n    orders = orders == null ? [] : [orders];\n  }\n  return baseOrderBy(collection, iteratees, orders);\n}\n\nmodule.exports = orderBy;\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Templates.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Templates.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.reachedCampaignLimit)?_c('templates-limit-exceeded'):_c('core-page',{attrs:{\"title\":\"Select a Campaign Type:\",\"classes\":\"templates-wrapper\"}},[_c('common-alerts',{attrs:{\"alerts\":_vm.alerts}}),_c('div',{staticClass:\"templates-content\"},[_c('templates-types'),_c('templates-filters'),_c('div',{staticClass:\"omapi-content-area\"},[_c('templates-upsell-alerts'),(_vm.hasTemplates)?_c('div',{staticClass:\"omapi-template-listing-wrap\"},[_c('templates-grid',{attrs:{\"templates\":_vm.selectedTemplates}}),(_vm.isLoading)?_c('svg-loading',{style:({ margin: '0 auto' })}):_vm._e()],1):(_vm.isLoading)?_c('div',{staticClass:\"archie-loader-wrapper\"},[_c('div',[_c('core-loading',{staticClass:\"loader\"})],1)]):_c('div',{staticClass:\"no-templates-available\"},[_c('core-alert',{attrs:{\"type\":_vm.validType ? 'info' : 'warn'}},[_c('div',{staticClass:\"alert-message\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.noTemplatesMessage)+\"\\n\\t\\t\\t\\t\\t\")])])],1)],1)],1),_c('campaigns-modal-create-campaign'),_c('templates-modal-not-connected'),_c('templates-modal-no-access')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<templates-limit-exceeded v-if=\"reachedCampaignLimit\"/>\n\t<core-page v-else title=\"Select a Campaign Type:\" classes=\"templates-wrapper\">\n\t\t<common-alerts :alerts=\"alerts\"/>\n\t\t<div class=\"templates-content\">\n\n\t\t\t<templates-types/>\n\t\t\t<templates-filters/>\n\n\t\t\t<div class=\"omapi-content-area\">\n\n\t\t\t\t<templates-upsell-alerts />\n\n\t\t\t\t<div class=\"omapi-template-listing-wrap\" v-if=\"hasTemplates\">\n\t\t\t\t\t<templates-grid :templates=\"selectedTemplates\" />\n\t\t\t\t\t<svg-loading :style=\"{ margin: '0 auto' }\" v-if=\"isLoading\"></svg-loading>\n\t\t\t\t</div>\n\n\t\t\t\t<div v-else-if=\"isLoading\" class=\"archie-loader-wrapper\">\n\t\t\t\t\t<div><core-loading class=\"loader\"/></div>\n\t\t\t\t</div>\n\n\t\t\t\t<div v-else class=\"no-templates-available\">\n\t\t\t\t\t<core-alert :type=\"validType ? 'info' : 'warn'\">\n\t\t\t\t\t\t<div class=\"alert-message\">\n\t\t\t\t\t\t\t{{ noTemplatesMessage }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</core-alert>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<campaigns-modal-create-campaign/>\n\t\t<templates-modal-not-connected/>\n\t\t<templates-modal-no-access/>\n\t</core-page>\n</template>\n\n<script lang=\"js\">\nimport get from 'lodash/get'\nimport orderBy from 'lodash/orderBy'\nimport upperFirst from 'lodash/upperFirst'\n\nimport {\n\tcloseCampaigns,\n\tmaybeMobiilePreview,\n\tmaybeEndMobiilePreview,\n\tsetDemo,\n\tsetPreview,\n\tenableBgClick,\n} from '@/utils/om-api'\nimport { createNamespacedHelpers } from 'vuex'\nconst { mapState, mapActions, mapGetters } = createNamespacedHelpers('templates')\n\nexport default  {\n\tcreated () {\n\t\tthis.listenApiLoaded()\n\n\t\t// Ensure campaigns are flagged as demos.\n\t\tdocument.addEventListener('om.Main.getCampaigns', setDemo)\n\n\t\t// Make previews closeable by clicking background.\n\t\tdocument.addEventListener('om.Campaigns.init', enableBgClick)\n\n\t\t// Disable form fields\n\t\tdocument.addEventListener('om.Optin.init', setPreview)\n\n\t\t// Handle mobile template previews\n\t\tdocument.addEventListener('om.Campaign.afterShow', maybeMobiilePreview)\n\t\tdocument.addEventListener('om.Campaign.startClose', maybeEndMobiilePreview)\n\n\t\tthis.$store.subscribe((mutation, state) => {\n\t\t\tconst ignore = [\n\t\t\t\t'templates/setLoadingPreview',\n\t\t\t\t'templates/setPreviewing',\n\t\t\t]\n\t\t\tif (-1 === ignore.indexOf(mutation.type)) {\n\t\t\t\tcloseCampaigns()\n\t\t\t\tthis.$store.commit('templates/setLoadingPreview', '')\n\t\t\t\tthis.$store.commit('templates/setPreviewing', '')\n\t\t\t}\n\t\t})\n\n\t\tthis.$store.dispatch('campaigns/fetchDashboard').catch(() => {})\n\n\t\tthis.loadApi()\n\t},\n\tbeforeDestroy () {\n\t\t// Ensure campaigns are flagged as demos.\n\t\tdocument.removeEventListener('om.Main.getCampaigns', setDemo)\n\n\t\t// Make previews closeable by clicking background.\n\t\tdocument.removeEventListener('om.Campaigns.init', enableBgClick)\n\n\t\t// Disable form fields\n\t\tdocument.removeEventListener('om.Optin.init', setPreview)\n\n\t\t// Handle mobile template previews\n\t\tdocument.removeEventListener('om.Campaign.afterShow', maybeMobiilePreview)\n\t\tdocument.removeEventListener('om.Campaign.startClose', maybeEndMobiilePreview)\n\t},\n\tcomputed : {\n\t\t...mapState([\n\t\t\t'activeType',\n\t\t\t'search',\n\t\t\t'sort',\n\t\t\t'popular',\n\t\t\t'templates',\n\t\t]),\n\t\t...mapGetters([ 'typePermitted', 'featured', 'filters', 'filterGamified', 'validType' ]),\n\t\talerts () {\n\t\t\treturn this.$get('$store.state.alerts', [])\n\t\t},\n\t\tisLoading () {\n\t\t\treturn this.$store.getters.isLoading('templates')\n\t\t},\n\t\tpopularTemplates () {\n\t\t\tconst popular = this.popular[this.activeType]\n\n\t\t\treturn popular && popular.length ? this.order(popular) : []\n\t\t},\n\t\tfeaturedTemplates () {\n\t\t\tconst featured = this.featured[this.activeType]\n\n\t\t\treturn featured && featured.length ? this.order(featured) : []\n\t\t},\n\t\tshowableTemplates () {\n\t\t\tconst filterPasses = (key, value) => {\n\t\t\t\treturn this.filters[key].length\n\t\t\t\t\t? !this.filters[key].find(f => !value.includes(f))\n\t\t\t\t\t: true\n\t\t\t}\n\n\t\t\tconst prop = [ 'popular', 'featured' ].includes(this.sort) ? `${this.sort}Templates` : 'templates'\n\t\t\tconst templates = this[ prop ]\n\t\t\t\t.filter((template) => {\n\t\t\t\t\tif ('' === this.search) {\n\t\t\t\t\t\treturn true\n\t\t\t\t\t}\n\t\t\t\t\treturn template.name.toLowerCase().includes(this.search.toLowerCase())\n\t\t\t\t}).filter((template) => {\n\t\t\t\t\tconst device = 'mobile' === this.filters.device\n\t\t\t\t\t\t? template.mobile\n\t\t\t\t\t\t: !template.mobile\n\n\t\t\t\t\tif (!device) {\n\t\t\t\t\t\treturn false\n\t\t\t\t\t}\n\n\t\t\t\t\tconst taxonomies = [ 'goals', 'categories', 'tags' ]\n\n\t\t\t\t\treturn !taxonomies.find(t => {\n\t\t\t\t\t\treturn !filterPasses(t, template[t].map(term => term.id))\n\t\t\t\t\t})\n\t\t\t\t})\n\n\t\t\treturn this.order(templates)\n\t\t},\n\t\tselectedTemplates () {\n\t\t\treturn this.showableTemplates.filter(template => {\n\t\t\t\treturn this.filterGamified\n\t\t\t\t\t? template.tags.find(tag => 1 === tag.id)\n\t\t\t\t\t: template.type === this.activeType\n\t\t\t})\n\t\t},\n\t\thasTemplates () {\n\t\t\treturn this.selectedTemplates.length\n\t\t},\n\t\tshouldShowUpsells () {\n\t\t\treturn this.$store.getters.connected\n\t\t\t\t? !this.typePermitted(this.activeType)\n\t\t\t\t: false\n\t\t},\n\t\tnoTemplatesMessage () {\n\t\t\treturn this.validType\n\t\t\t\t? 'No templates available for your current selection.'\n\t\t\t\t: `${upperFirst(this.activeType)} is not a valid type. Please select one of the options above.`\n\t\t},\n\t\treachedCampaignLimit () {\n\t\t\tif (!this.$store.getters.connected) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t\tconst total = this.$get('$store.state.campaigns.totalCampaignsCount', 0)\n\t\t\tconst limit = get(this.$store.getters.userAttribute('limits', {}), 'campaigns', 10)\n\n\t\t\treturn total > limit\n\t\t},\n\t},\n\tmounted () {\n\t\tthis.fetchTemplateData().catch(() => {})\n\t\tthis.$bus.$emit('dashboard-view-mounted', 'templates')\n\t},\n\tmethods : {\n\t\t...mapActions([ 'fetchTemplateData' ]),\n\t\tlistenApiLoaded (cb = 'addEventListener') {\n\t\t\t[\n\t\t\t\t'om.Api.init',\n\t\t\t\t'om.Main.init',\n\t\t\t\t'om.Campaigns.init',\n\t\t\t\t'om.Campaign.init',\n\t\t\t].forEach(evt => document[cb](evt, this.setApiLoaded))\n\t\t},\n\t\tloadApi () {\n\t\t\tlet script = document.getElementById('omwpapi-templates-apijs')\n\t\t\tif (script) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tconst head   = document.getElementsByTagName('head')[0] || document.documentElement\n\t\t\tscript = document.createElement('script')\n\t\t\tscript.type            = 'text/javascript'\n\t\t\tscript.id              = 'omwpapi-templates-apijs'\n\t\t\tscript.src             = this.$urls.apiJs()\n\t\t\tscript.async           = true\n\t\t\tscript.dataset.account = 56690\n\t\t\tscript.dataset.user    = 50374\n\t\t\tif (!this.$env.isEnv('production')) {\n\t\t\t\tscript.dataset.env = this.$env.isEnv('development') ? 'dev' : this.$env.currentEnv\n\t\t\t}\n\n\t\t\thead.appendChild(script)\n\t\t},\n\t\tsetApiLoaded (e) {\n\t\t\tthis.listenApiLoaded('removeEventListener')\n\t\t\tthis.$store.commit('templates/apiLoaded')\n\t\t},\n\t\tapplyFilters (filters) {\n\t\t\tthis.$bus.$emit('applied-bulk-filter')\n\t\t\tthis.$store.commit('templates/appliedFilters', filters)\n\t\t},\n\t\torder (templates) {\n\t\t\treturn orderBy(templates, (template) => {\n\t\t\t\treturn 'recent' === this.sort ? -this.$moment(template.created_at).valueOf() : template.name\n\t\t\t})\n\t\t},\n\t},\n\n}\n</script>\n<style lang=\"scss\">\n\t@import '../assets/scss/variables';\n\t@import '../assets/scss/pages/templates';\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Templates.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Templates.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Templates.vue?vue&type=template&id=2007699d&\"\nimport script from \"./Templates.vue?vue&type=script&lang=js&\"\nexport * from \"./Templates.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Templates.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var isSymbol = require('./isSymbol');\n\n/**\n * Compares values to sort them in ascending order.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {number} Returns the sort order indicator for `value`.\n */\nfunction compareAscending(value, other) {\n  if (value !== other) {\n    var valIsDefined = value !== undefined,\n        valIsNull = value === null,\n        valIsReflexive = value === value,\n        valIsSymbol = isSymbol(value);\n\n    var othIsDefined = other !== undefined,\n        othIsNull = other === null,\n        othIsReflexive = other === other,\n        othIsSymbol = isSymbol(other);\n\n    if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n        (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n        (valIsNull && othIsDefined && othIsReflexive) ||\n        (!valIsDefined && othIsReflexive) ||\n        !valIsReflexive) {\n      return 1;\n    }\n    if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n        (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n        (othIsNull && valIsDefined && valIsReflexive) ||\n        (!othIsDefined && valIsReflexive) ||\n        !othIsReflexive) {\n      return -1;\n    }\n  }\n  return 0;\n}\n\nmodule.exports = compareAscending;\n","/**\n * The base implementation of `_.sortBy` which uses `comparer` to define the\n * sort order of `array` and replaces criteria objects with their corresponding\n * values.\n *\n * @private\n * @param {Array} array The array to sort.\n * @param {Function} comparer The function to define sort order.\n * @returns {Array} Returns `array`.\n */\nfunction baseSortBy(array, comparer) {\n  var length = array.length;\n\n  array.sort(comparer);\n  while (length--) {\n    array[length] = array[length].value;\n  }\n  return array;\n}\n\nmodule.exports = baseSortBy;\n"],"sourceRoot":""}